---
title: "PEC 1 Software para el Análisis de Datos"
author: "Angela Leis"
date: "27/03/2017"
output:
  html_document: default
  pdf_document: default
---
***

## Sección 1. Importación, exportación  

### Ejercicio 1.  

#### a) Importar datos del fichero golub.csv. Mostramos estructura y nombre de variables

```{r}
golubData <- read.csv(file="/Users/mmayer/Documents/MasterBIO_Angela/golub.csv", 
                      sep=",", header=F)
str(golubData)
dim(golubData)
names(golubData)
```
b) Importar los datos de golubcl.dta. Se trata de archivo de formato stata.

```{r}
library('foreign')
golubCl <- read.dta("/Users/mmayer/Documents/MasterBIO_Angela/golubcl.dta")
str(golubCl)
dim(golubCl)
names(golubCl)
```

### Sección 2. Estructura de datos  

#### Ejercicio 2. 

```{r cars}

```

#### Ejercicio 3.  

#### Ejercicio 4.

#### Ejercicio 5.

#### Ejercicio 6.
```{r}

# install.packages('stringr')
library('stringr')
# install.packages('seqinr')
library('seqinr')

cc <- readChar("/Users/mmayer/Documents/MasterBIO_Angela/seq.txt",
file.info("/Users/mmayer/Documents/MasterBIO_Angela/seq.txt")$size)
cc

str_count(cc, "ccgg")

```


### Sección 3. Estadística descriptiva

#### Ejercicio 7.

**Importamos** los datos del archivo colesterol.txt
```{r}
cholesterol <- read.table("cholesterol.txt", header=T, na.strings="NA")
str(cholesterol)
names(cholesterol)
```

**Variables cuantitativas**: chol, age, height, weight, waist, hip
Resumen numérico básico
```{r}
attach(cholesterol)
summary(chol)
summary(age)
summary(height)
summary(weight)
summary(waist)
summary(hip)

```

**Histogramas**
```{r}
hist(chol, main="Cholesterol distribution", ylab="Frequency", xlab="Cholesterol (mg/dl)", col="blue")
hist(age, main="Age distribution", ylab="Frequency", xlab="Age in years", col="darkred")
hist(height, main="Height distribution", ylab="Frequency", xlab="Height in cm", col="yellow")
hist(weight, main="Weight distribution", ylab="Frequency", xlab="Weight in Kg", col="orange")
hist(waist, main="Waist distribution",ylab="Frequency", xlab="Waist in cm", col="darkgreen")
hist(hip, main="Hip distribution", ylab="Frequency", xlab="Hip in cm", col="violet")

```


**Boxplots**
```{r}
boxplot(chol, main="Cholesterol distribution", col.main="blue")
boxplot(age, main="Age distribution", ylab="Years", col.main="darkred")
boxplot(height, main="Height distribution", col.main="yellow")
boxplot(weight, main="Weight distribution", col.main="orange")
boxplot(waist, main="Waist distribution", col.main="darkgreen")
boxplot(hip, main="Hip distribution", col.main="violet")

```


**Tallo y hojas**
```{r}
stem(chol)
stem(age)
stem(height)
stem(weight)
stem(waist)
stem(hip)
```


**Variables cualitativas**: gender
Tabla de frecuencias absolutas y relativas de gender:
```{r}
table(gender)
round(prop.table(table(gender))*100, 2)

```
**Diagramas**
```{r}

barplot(table(gender), main="Gender Distribution", ylab="Frequency", ylim=c(0,250), col=c(2,4), names.arg=c("Female", "Male"))
labels <- c("Female", "Male")
piepercent<- round(prop.table(table(cholesterol$gender))*100, 2)
pie(table(cholesterol$gender), labels= piepercent, main="Gender distribution", col=c(2,4))
legend("topright", c("Female", "Male"), cex=0.7, fill=c(2,4))

```



#### Ejercicio 8. Variable edad en intervalos
```{r}
cholesterol$age2[cholesterol$age <= 25] <- '<=25'
cholesterol$age2[cholesterol$age > 25 & cholesterol$age <= 50] <- '26-50'
cholesterol$age2[cholesterol$age > 50 & cholesterol$age <=75] <- '51-75'
cholesterol$age2[cholesterol$age >75] <- '76-100'

table(cholesterol$age2)

detach(cholesterol)
```

#### Ejercicio 9.
```{r}
library(fmsb)
cholesterol<-read.table("cholesterol.txt",header=T,na.strings="NA")
data<-aggregate(cholesterol[,5:8],by=list(cholesterol[,4]),mean,na.rm=T)
data<-rbind(apply(cholesterol[,5:8],2,max,na.rm=T), apply(cholesterol[,5:8],2,min,na.rm=T), 
            data[,2:5])
radarchart(data)

library(MASS)
sampl<-sample(1:dim(cholesterol)[1],6)
parcoord(cholesterol[sampl,5:8],col=1:6,var.label = TRUE)
legend("topleft",legend=sampl,fill=1:6,cex=0.8)

```


![Emredes](/Users/mmayer/Pictures/emredes.jpeg)
